services:
  Users:
    image: users
    container_name: Users
    build:
      context: api/Users
#    env_file:
#      - ".env"
    networks:
      - ft_transcendence
    restart: on-failure

#  Tournament:
#    image: tournament
#    container_name: Tournament
#    build:
#      context: api/Tournament
#    env_file:
#      - ".env"
#    networks:
#      - ft_transcendence
#    restart: on-failure

#  Game:
#    image: game
#    container_name: Game
#    build:
#      context: api/Game
#    env_file:
#      - ".env"
#    networks:
#      - ft_transcendence
#    restart: on-failure

#  Matchmaking:
#    image: matchmaking
#    container_name: Matchmaking
#    build:
#      context: api/Matchmaking
#    env_file:
#      - ".env"
#    networks:
#      - ft_transcendence
#    restart: on-failure

#  Authentication:
#    image: authentication
#    container_name: Authentication
#    build:
#      context: api/Authentication
#    env_file:
#      - ".env"
#    networks:
#      - ft_transcendence
#    restart: on-failure

  Nginx:
    image: nginx
    container_name: Nginx
    build:
      context: api/Nginx
#    env_file:
#      - ".env"
    ports:
      - "3000:3000"
    depends_on:
      - Users
#      - Matchmaking
#      - Authentication
#      - Game
#      - Tournament
    networks:
      - ft_transcendence
    restart: on-failure

networks:
  ft_transcendence:
      driver: bridge

#volumes:
#  Nginx-data:
#    driver: local
##  Authentication-data:
##    driver: local
##  Matchmaking-data:
##    driver: local
##  Game-data:
##    driver: local
##  Tournament-data:
##    driver: local
#  Users-data:
#    driver: local

